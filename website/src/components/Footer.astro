---
import { Image } from 'astro:assets';
import logo from '../assets/logo-small.png';

const currentYear = new Date().getFullYear();

const links = {
  learn: [
    { label: 'Documentation', href: '/docs' },
    { label: 'Getting Started', href: '/docs/getting-started.html' },
    { label: 'Language Guide', href: '/docs/language-guide/' },
    { label: 'Examples', href: 'https://github.com/fcoury/husk/tree/master/examples', external: true },
  ],
  community: [
    { label: 'GitHub', href: 'https://github.com/fcoury/husk', external: true },
    { label: 'Discussions', href: 'https://github.com/fcoury/husk/discussions', external: true },
    { label: 'Issues', href: 'https://github.com/fcoury/husk/issues', external: true },
    { label: 'Contributing', href: 'https://github.com/fcoury/husk/blob/master/AGENTS.md', external: true },
  ],
  resources: [
    { label: 'CLI Reference', href: '/docs/reference/cli.html' },
    { label: 'Editor Setup', href: '/docs/reference/editor-setup.html' },
    { label: 'Roadmap', href: 'https://github.com/fcoury/husk/blob/master/roadmap.md', external: true },
    { label: 'Changelog', href: 'https://github.com/fcoury/husk/releases', external: true },
  ],
};
---

<footer class="relative bg-cream-100 dark:bg-surface-800 border-t border-cream-200 dark:border-surface-700">
  <!-- Decorative top wave -->
  <div class="absolute -top-px left-0 right-0 h-px bg-gradient-to-r from-transparent via-husk-400/50 to-transparent"></div>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 lg:gap-6">
      <!-- Brand column -->
      <div class="lg:col-span-2">
        <a href="/" class="inline-flex items-center gap-2 group mb-4">
          <Image
            src={logo}
            alt="Husk Logo"
            width={32}
            height={32}
            class="transition-transform duration-300 group-hover:scale-110"
          />
          <span class="font-display text-xl text-surface-900 dark:text-cream-50">Husk</span>
        </a>
        <p class="text-sm text-surface-600 dark:text-cream-400 leading-relaxed max-w-sm mb-4">
          A modern, Rust-inspired language that compiles to JavaScript.
          Type-safe, expressive, and ready for production.
        </p>

        <!-- Social links -->
        <div class="flex items-center gap-4">
          <a
            href="https://github.com/fcoury/husk"
            target="_blank"
            rel="noopener noreferrer"
            class="p-2 rounded-lg bg-cream-200 dark:bg-surface-700 hover:bg-cream-300 dark:hover:bg-surface-600 text-surface-600 dark:text-cream-100/80 transition-colors"
            aria-label="GitHub"
          >
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z" />
            </svg>
          </a>
        </div>
      </div>

      <!-- Learn column -->
      <div>
        <h3 class="font-display text-base text-surface-900 dark:text-cream-50 mb-3">Learn</h3>
        <ul class="space-y-2">
          {links.learn.map((link) => (
            <li>
              <a
                href={link.href}
                target={link.external ? '_blank' : undefined}
                rel={link.external ? 'noopener noreferrer' : undefined}
                class="inline-flex items-center gap-1.5 text-sm text-surface-600 dark:text-cream-400 hover:text-husk-600 dark:hover:text-husk-400 transition-colors"
              >
                {link.label}
                {link.external && (
                  <svg class="w-3.5 h-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                  </svg>
                )}
              </a>
            </li>
          ))}
        </ul>
      </div>

      <!-- Community column -->
      <div>
        <h3 class="font-display text-base text-surface-900 dark:text-cream-50 mb-3">Community</h3>
        <ul class="space-y-2">
          {links.community.map((link) => (
            <li>
              <a
                href={link.href}
                target={link.external ? '_blank' : undefined}
                rel={link.external ? 'noopener noreferrer' : undefined}
                class="inline-flex items-center gap-1.5 text-sm text-surface-600 dark:text-cream-400 hover:text-husk-600 dark:hover:text-husk-400 transition-colors"
              >
                {link.label}
                {link.external && (
                  <svg class="w-3.5 h-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                  </svg>
                )}
              </a>
            </li>
          ))}
        </ul>
      </div>

      <!-- Resources column -->
      <div>
        <h3 class="font-display text-base text-surface-900 dark:text-cream-50 mb-3">Resources</h3>
        <ul class="space-y-2">
          {links.resources.map((link) => (
            <li>
              <a
                href={link.href}
                target={link.external ? '_blank' : undefined}
                rel={link.external ? 'noopener noreferrer' : undefined}
                class="inline-flex items-center gap-1.5 text-sm text-surface-600 dark:text-cream-400 hover:text-husk-600 dark:hover:text-husk-400 transition-colors"
              >
                {link.label}
                {link.external && (
                  <svg class="w-3.5 h-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                  </svg>
                )}
              </a>
            </li>
          ))}
        </ul>
      </div>
    </div>

    <!-- Bottom bar -->
    <div class="mt-8 pt-6 border-t border-cream-200 dark:border-surface-700">
      <div class="flex flex-col sm:flex-row items-center justify-between gap-4">
        <p class="text-sm text-surface-500 dark:text-surface-500">
          &copy; {currentYear} Husk. Released under the
          <a
            href="https://opensource.org/licenses/MIT"
            target="_blank"
            rel="noopener noreferrer"
            class="hover:text-husk-600 dark:hover:text-husk-400 underline underline-offset-2"
          >
            MIT License
          </a>.
        </p>

        <p class="text-sm text-surface-500 dark:text-surface-500">
          Built with
          <a
            href="https://astro.build"
            target="_blank"
            rel="noopener noreferrer"
            class="hover:text-husk-600 dark:hover:text-husk-400"
          >
            Astro
          </a>
          &
          <a
            href="https://tailwindcss.com"
            target="_blank"
            rel="noopener noreferrer"
            class="hover:text-husk-600 dark:hover:text-husk-400"
          >
            Tailwind CSS
          </a>
        </p>
      </div>
    </div>
  </div>

  <!-- Decorative wheat grain -->
  <div class="absolute bottom-4 right-4 opacity-5 pointer-events-none">
    <svg class="w-32 h-32 text-husk-600 dark:text-husk-400" viewBox="0 0 100 100" fill="currentColor">
      <ellipse cx="50" cy="50" rx="20" ry="40" transform="rotate(-15 50 50)" />
    </svg>
  </div>
</footer>
